# Lesson17_Final_HW
HomeWork_17

В этом домашнем задании мы будем писать API для поиска фильмов с информацией об актерах, режиссерах и жанрах. У нашего API будут следующие эндпоинты:

- `/movies` — возвращает список всех фильмов, разделенный по страницам;
- `/movies/<id>` — возвращает подробную информацию о фильме.
- `/directors/` — возвращает всех режиссеров,
- `/directors/<id>` — возвращает подробную информацию о режиссере,
- `/genres/` —  возвращает всех режиссеров,
- `/genres/<id>` — возвращает информацию о жанре с перечислением списка фильмов по жанру,
- `POST /movies/` —  добавляет кино в фильмотеку,
- `PUT /movies/<id>` —  обновляет кино,
- `DELETE /movies/<id>` —  удаляет кино.

---

### Обязательное задание

### Шаг 1

Перейдите к [репозиторию](https://github.com/skypro-008/lesson17_project_source) 17-го урока, где описаны модели и хранится база данных.

Изучите приложение и запустите его.

`Movie` **Модель фильма**

`id` — идентификатор

`title` — название фильма`description`  — описание фильма

`trailer` — трейлер 

`rating` — рейтинг

`genre` — ссылка на жанр

`director` — ссылка на режиссера

`Genre` **Жанр**

`id` — идентификатор

`name` — название жанра

`Director` **Режиссер**

`id` — идентификатор

`name` — имя режиссера

### Шаг 2

Напишите сериализацию модели `Movie`.
Установите Flask-RESTX, создайте CBV для обработки GET-запроса.

- `/movies` — возвращает список всех фильмов, разделенный по страницам;
- `/movies/<id>` — возвращает подробную информацию о фильме.

### Шаг 3

Доработайте представление так, чтобы оно возвращало только фильмы с определенным режиссером по запросу типа `/movies/?director_id=1`.

### Шаг 4

Доработайте представление так, чтобы оно возвращало только фильмы определенного жанра  по запросу типа `/movies/?genre_id=1`.

## Критерии приема ДЗ

- [ ]  Неймспейсы в RESTX использованы верно.
- [ ]  Методы GET для получения списка написаны верно.
- [ ]  Методы GET для получения записи написаны верно.
- [ ]  Методы POST написаны верно.
- [ ]  Методы DELETE написаны верно.
- [ ]  Обработка ошибок реализована верно.

## **Как сдавать задание**

Загрузить программу на гитхаб и приложить в дз на платформе Skypro **ссылку на файл на гитхабе.**

---

## Задание со *звездочкой (необязательное)

### Шаг 1

Доработайте представление так, чтобы оно возвращало только фильмы с определенным режиссером и жанром по запросу типа `/movies/?director_id=2&genre_id=4`.

### Шаг 2

Добавьте реализацию методов `POST` для режиссера.

Добавьте реализацию методов `PUT` для режиссера.

Добавьте реализацию методов `DELETE` для режиссера.

### Шаг 3

Добавьте реализацию методов `POST` для жанра.

Добавьте реализацию методов `PUT` для жанра.

Добавьте реализацию методов `DELETE` для жанра.

### **Как сдавать задание**

Загрузить программу на гитхаб и приложить в дз на платформе Skypro **ссылку на файл на гитхабе.**

`////////////////////////
### Cоздайте виртуальное окружение:

#### Простой вариант:
Pycharm может предложить вам сделать это после того, как вы откроете папку с проектом.
В этом случае после открытия папки с проектом в PyCharm
Появляется всплывающее окно, Creating virtuan envrironment c тремя полями.
В первом поле выбираем размещение папки с вирутальным окружением, как правило это папка venv
в корне проекта
Во втором поле выбираем устанавливаемый интерпритатор по умолчанию (можно оставить без изменений)
В 3 поле выбираем список зависимостей (должен быть выбран фаил requirements.txt, находящийся в корне папки проекта)

#### Если этого не произошло, тогда следует выполнить следующие действия вручную:
#### Установка виртуального окружения:
1. Во вкладке File выберите пункт Settings
2. В открывшемся окне, с левой стороны найдите вкладку с именем
вашего репозитория (Project: lesson17-and-tests)
3. В выбранной вкладке откройте настройку Python Interpreter
4. В открывшейся настройке кликните на значек ⚙ (шестеренки) 
расположенный сверху справа и выберите опцию Add
5. В открывшемся окне слева выберите Virtualenv Environment, 
а справа выберите New Environment и нажмите ОК

#### Установка зависимостей:
Для этого можно воспользоваться графическим интерфейсом PyCharm,
который вам предложит сделать это как только вы откроете файл с заданием.

Или же вы можете сделать это вручную, выполнив следующую команду в терминале:
`pip install -r requirements.txt`


